sudo: false

language: python
python:
  - "2.7"
  - "3.4"

env:
  matrix:
    - COVERAGE=cover,codecov
    - COVERAGE=nocov
  
before_install:
  - ls -la ~/virtualenv
  - export TOXENV=${TRAVIS_PYTHON_VERSION/[0-9].[0-9]/py${TRAVIS_PYTHON_VERSION/.}}
  - cat "$BASH_SOURCE"
  - env

install:
  - pip list
  - virtualenv --version
  - pip install tox pytest-travis-fold
  - pip list
  - virtualenv --version
  - easy_install --version
  - pip --version
  - tox --version
  - |
    function tox()
      { announce "Running tox in TOXENV=$TOXENV"; env tox; }
    function announce()
      { echo -e "$ANSI_GREEN$@${ANSI_RESET}"; }
before_script:
  - echo -e "${ANSI_GREEN}Running tox in TOXENV=$TOXENV${ANSI_RESET}";
script:
  - tox -v

cache:
  directories:
    - $HOME/.cache/pip/http

notifications:
  email:
    on_success: never
    on_failure: never

